#include "api.h"
//------------------------------------------------------------------------------
Profiler::Profiler(const int pass, const int network, const int cluster, const int func, const int line) :
	m_pass		(pass == 0 ? "FI" : pass == 1 ? "FT" : "BT"),
	m_network	(network),
	m_cluster	(cluster),
	m_func		(func),
	m_line		(line),
	m_start		(sol_time_us())
{}

//------------------------------------------------------------------------------
Profiler::~Profiler(void) {
	auto end = sol_time_us();
	auto ns  = end - m_start;
#if 1
	L_INFO("ve_%08X_%s_%08X_%X (%5i): %12.3fus\n", m_network, m_pass, m_cluster, m_func, m_line, (double)ns/1000.0);
#else
	L_INFO("%12.3f\n", (double)ns/1000.0);
#endif
}

//------------------------------------------------------------------------------
